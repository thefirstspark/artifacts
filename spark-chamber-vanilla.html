<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>The Spark Chamber</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      overflow: hidden;
      background: #000;
    }
    
    #chamber {
      position: relative;
      width: 100vw;
      height: 100vh;
      cursor: pointer;
      user-select: none;
      overflow: hidden;
    }
    
    #grid {
      position: absolute;
      inset: 0;
      opacity: 0.1;
      background-size: 50px 50px;
      transform: perspective(500px) rotateX(60deg) translateY(-50%);
      pointer-events: none;
    }
    
    #particles, #rings {
      position: absolute;
      inset: 0;
      pointer-events: none;
    }
    
    .particle {
      position: absolute;
      border-radius: 50%;
      pointer-events: none;
      transform: translate(-50%, -50%);
    }
    
    .ring {
      position: absolute;
      border-radius: 50%;
      border: 1px solid;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      pointer-events: none;
    }
    
    #orb-container {
      position: absolute;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
    }
    
    #orb {
      position: relative;
      width: 200px;
      height: 200px;
      border-radius: 50%;
      transition: transform 0.3s;
    }
    
    #orb svg {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
    }
    
    #spark-container {
      position: absolute;
      left: 50%;
      top: 50%;
      transform: translate(-50%, calc(-50% + 180px));
      width: 100%;
      max-width: 600px;
      padding: 0 2rem;
      text-align: center;
    }
    
    #spark-text {
      font-size: clamp(1.1rem, 4vw, 1.5rem);
      font-weight: 300;
      letter-spacing: 0.02em;
      line-height: 1.6;
      opacity: 0;
      transform: translateY(10px);
      transition: opacity 0.5s, transform 0.5s;
    }
    
    #spark-text.visible {
      opacity: 1;
      transform: translateY(0);
    }
    
    #prompt {
      font-size: 0.85rem;
      letter-spacing: 0.3em;
      text-transform: uppercase;
      opacity: 0.5;
      animation: pulse 2s ease-in-out infinite;
    }
    
    #footer {
      position: absolute;
      bottom: 1.5rem;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      align-items: center;
      gap: 0.75rem;
      opacity: 0.4;
    }
    
    #footer span {
      font-size: 0.7rem;
      letter-spacing: 0.3em;
      text-transform: uppercase;
    }
    
    .footer-line {
      width: 3rem;
      height: 1px;
    }
    
    @keyframes pulse {
      0%, 100% { opacity: 0.4; }
      50% { opacity: 0.7; }
    }
  </style>
</head>
<body>
  <div id="chamber">
    <div id="grid"></div>
    <div id="particles"></div>
    <div id="rings"></div>
    
    <div id="orb-container">
      <div id="orb">
        <svg viewBox="0 0 200 200">
          <defs>
            <filter id="glow">
              <feGaussianBlur stdDeviation="2" result="coloredBlur"/>
              <feMerge>
                <feMergeNode in="coloredBlur"/>
                <feMergeNode in="SourceGraphic"/>
              </feMerge>
            </filter>
          </defs>
          <g id="sigil-lines"></g>
          <circle id="sigil-circle" cx="100" cy="100" r="40" fill="none" stroke-width="1" filter="url(#glow)"/>
        </svg>
      </div>
    </div>
    
    <div id="spark-container">
      <p id="spark-text"></p>
      <p id="prompt">Click to ignite</p>
    </div>
    
    <div id="footer">
      <div class="footer-line" id="line-left"></div>
      <span>The First Spark</span>
      <div class="footer-line" id="line-right"></div>
    </div>
  </div>

  <script>
    const SPARKS = [
      "You are the glitch the simulation didn't expect.",
      "What if the thing you keep avoiding is your actual portal?",
      "The universe doesn't reward readiness. It rewards movement.",
      "Your chaos is not a bug. It's your source code.",
      "The wound you're hiding is the same shape as your gift.",
      "You didn't come here to fit. You came here to remember.",
      "What dies when you finally stop pretending?",
      "The maze isn't the obstacle. You're the maze solving itself.",
      "Your ancestors dreamed you into existence. Now dream forward.",
      "The thing that terrifies you is just your power wearing a mask.",
      "You're not lost. You're in the loading screen.",
      "What wants to be born through you today?",
      "The scattered pieces aren't broken. They're seeds.",
      "Your restlessness is a compass. Which way is it pointing?",
      "The pattern you keep repeating is trying to teach you its name.",
      "You are someone's ancestor. What are you encoding?",
      "The version of you that already made it is sending signals back.",
      "What if your sensitivity is your superpower buffering?",
      "The edge of your comfort zone is where your character levels up.",
      "You're not behind. Time is a construct and you're right on myth.",
    ];

    let hue = 280;
    let breathPhase = 0;
    let mouseX = window.innerWidth / 2;
    let mouseY = window.innerHeight / 2;
    let particles = [];
    let rings = [];
    let energy = 0;
    let isIgniting = false;
    let hasSpark = false;

    const chamber = document.getElementById('chamber');
    const grid = document.getElementById('grid');
    const particlesContainer = document.getElementById('particles');
    const ringsContainer = document.getElementById('rings');
    const orb = document.getElementById('orb');
    const sigilLines = document.getElementById('sigil-lines');
    const sigilCircle = document.getElementById('sigil-circle');
    const sparkText = document.getElementById('spark-text');
    const prompt = document.getElementById('prompt');
    const lineLeft = document.getElementById('line-left');
    const lineRight = document.getElementById('line-right');
    const footerSpan = document.querySelector('#footer span');

    // Create sigil lines
    for (let i = 0; i < 6; i++) {
      const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
      line.setAttribute('x1', '100');
      line.setAttribute('y1', '100');
      line.setAttribute('stroke-width', '1');
      line.setAttribute('filter', 'url(#glow)');
      sigilLines.appendChild(line);
    }

    function updateColors() {
      const glowIntensity = 0.3 + Math.sin(breathPhase * 2) * 0.2 + (energy / 100) * 0.5;
      
      chamber.style.background = `radial-gradient(circle at ${mouseX}px ${mouseY}px, 
        hsl(${hue}, 30%, 8%) 0%, 
        hsl(${(hue + 180) % 360}, 20%, 4%) 50%,
        #000 100%)`;
      
      grid.style.backgroundImage = `
        linear-gradient(hsla(${hue}, 50%, 50%, 0.1) 1px, transparent 1px),
        linear-gradient(90deg, hsla(${hue}, 50%, 50%, 0.1) 1px, transparent 1px)`;
      
      orb.style.background = `radial-gradient(circle, 
        hsla(${hue}, 100%, 70%, ${glowIntensity}) 0%, 
        hsla(${hue}, 80%, 50%, ${glowIntensity * 0.5}) 30%,
        hsla(${hue}, 60%, 30%, ${glowIntensity * 0.2}) 60%,
        transparent 70%)`;
      
      orb.style.boxShadow = `
        0 0 60px hsla(${hue}, 100%, 60%, ${glowIntensity}),
        0 0 120px hsla(${hue}, 100%, 50%, ${glowIntensity * 0.5}),
        inset 0 0 60px hsla(${hue}, 100%, 80%, ${glowIntensity * 0.3})`;
      
      const lines = sigilLines.children;
      for (let i = 0; i < 6; i++) {
        const angle = (60 * i + breathPhase * 30) * Math.PI / 180;
        lines[i].setAttribute('x2', 100 + 70 * Math.cos(angle));
        lines[i].setAttribute('y2', 100 + 70 * Math.sin(angle));
        lines[i].setAttribute('stroke', `hsla(${hue + i * 10}, 100%, 70%, ${glowIntensity})`);
      }
      
      sigilCircle.setAttribute('r', 40 + Math.sin(breathPhase * 2) * 5);
      sigilCircle.setAttribute('stroke', `hsla(${hue}, 100%, 70%, ${glowIntensity * 0.8})`);
      
      sparkText.style.color = `hsl(${hue}, 60%, 80%)`;
      sparkText.style.textShadow = `0 0 30px hsla(${hue}, 100%, 60%, 0.5)`;
      
      prompt.style.color = `hsl(${hue}, 40%, 60%)`;
      
      lineLeft.style.background = `linear-gradient(90deg, transparent, hsl(${hue}, 60%, 50%))`;
      lineRight.style.background = `linear-gradient(90deg, hsl(${hue}, 60%, 50%), transparent)`;
      footerSpan.style.color = `hsl(${hue}, 40%, 60%)`;
    }

    function createParticle(x, y, angle, speed, life, size, particleHue) {
      const el = document.createElement('div');
      el.className = 'particle';
      particlesContainer.appendChild(el);
      return { el, x, y, angle, speed, life, maxLife: life, size, hue: particleHue };
    }

    function createRing(ringHue) {
      const el = document.createElement('div');
      el.className = 'ring';
      ringsContainer.appendChild(el);
      return { el, radius: 0, rotation: Math.random() * 360, opacity: 0.8, hue: ringHue };
    }

    function ignite() {
      if (isIgniting) return;
      isIgniting = true;
      energy = 100;
      
      // Create burst particles
      for (let i = 0; i < 60; i++) {
        particles.push(createParticle(
          window.innerWidth / 2,
          window.innerHeight / 2,
          (Math.PI * 2 * i) / 60 + Math.random() * 0.5,
          2 + Math.random() * 4,
          60 + Math.random() * 40,
          10 + Math.random() * 20,
          hue + Math.random() * 60 - 30
        ));
      }
      
      // Create rings
      for (let i = 0; i < 5; i++) {
        setTimeout(() => rings.push(createRing(hue + i * 20)), i * 100);
      }
      
      setTimeout(() => {
        const newSpark = SPARKS[Math.floor(Math.random() * SPARKS.length)];
        sparkText.textContent = newSpark;
        sparkText.classList.add('visible');
        prompt.style.display = 'none';
        hasSpark = true;
        isIgniting = false;
      }, 400);
      
      hue = (hue + 40) % 360;
    }

    function animate() {
      breathPhase += 0.02;
      energy = Math.max(0, energy - 0.5);
      
      const breathScale = 1 + Math.sin(breathPhase) * 0.05;
      orb.style.transform = `scale(${breathScale})`;
      
      // Update particles
      particles = particles.filter(p => {
        p.life -= 1;
        if (p.life <= 0) {
          p.el.remove();
          return false;
        }
        const progress = p.life / p.maxLife;
        const currentX = p.x + Math.cos(p.angle) * p.speed * (p.maxLife - p.life) * 3;
        const currentY = p.y + Math.sin(p.angle) * p.speed * (p.maxLife - p.life) * 3;
        const opacity = progress * 0.9;
        const currentSize = p.size * progress;
        
        p.el.style.left = currentX + 'px';
        p.el.style.top = currentY + 'px';
        p.el.style.width = currentSize + 'px';
        p.el.style.height = currentSize + 'px';
        p.el.style.background = `radial-gradient(circle, hsla(${p.hue}, 100%, 70%, ${opacity}) 0%, hsla(${p.hue}, 100%, 50%, 0) 70%)`;
        p.el.style.filter = `blur(${(1 - progress) * 2}px)`;
        return true;
      });
      
      // Update rings
      rings = rings.filter(r => {
        r.radius += 3;
        r.opacity -= 0.008;
        r.rotation += 0.5;
        if (r.opacity <= 0) {
          r.el.remove();
          return false;
        }
        r.el.style.width = r.radius * 2 + 'px';
        r.el.style.height = r.radius * 2 + 'px';
        r.el.style.transform = `translate(-50%, -50%) rotate(${r.rotation}deg)`;
        r.el.style.borderColor = `hsla(${r.hue}, 70%, 60%, ${r.opacity})`;
        r.el.style.boxShadow = `0 0 20px hsla(${r.hue}, 100%, 60%, ${r.opacity * 0.5}), inset 0 0 20px hsla(${r.hue}, 100%, 60%, ${r.opacity * 0.3})`;
        return true;
      });
      
      updateColors();
      requestAnimationFrame(animate);
    }

    chamber.addEventListener('click', ignite);
    
    chamber.addEventListener('mousemove', (e) => {
      mouseX = e.clientX;
      mouseY = e.clientY;
      
      if (Math.random() > 0.7) {
        particles.push(createParticle(
          e.clientX,
          e.clientY,
          Math.random() * Math.PI * 2,
          0.5 + Math.random(),
          30,
          6 + Math.random() * 8,
          hue + Math.random() * 30
        ));
      }
    });

    updateColors();
    animate();
  </script>
</body>
</html>
